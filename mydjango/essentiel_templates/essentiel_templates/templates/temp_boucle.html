{% load static %}
<!DOCTYPE html>

<head>
    <meta charset="UTF-8">
    <title>Boucles</title>
<link rel="stylesheet" media="screen" type="text/css" title="Mon style" href=" {%static 'css/tabstyle.css' %}" />

</head>

<body>

<h1>Langage de templates : Boucles</h1>
<hr>

<table border="1">

    <caption>List des etudiants</caption>
    <tr>
        <th>Rang</th>
        <th>Matricule</th>
        <th>Nom & Prenom</th>
        <th>Genre</th>
        <th>Note</th>
        <th>Mention</th>
    </tr>

    {% for etudiant in classe %}
    <tr>
        {% if forloop.first %}
          <td>1ere</td>
        {% elif forloop.last %}
          <td>Dernier</td>
        {%else %}
          <td>{{forloop.counter}}eme</td>
        {% endif %}

        <td>{{etudiant.matricule}}</td>
        <td>{{etudiant.non_complet}}</td>
        <td>{{etudiant.genre_entier}}</td>
        <td>{{etudiant.note}}</td>
        <td>{{etudiant.mention}}</td>


    </tr>
    {% endfor %}

    <tr>
        <td colspan="3">La moyenne de la classe est </td>
        <td > {{moyenne}} </td>
    </tr>
</table>
<hr>
{%for v in classe_vide %}
    <h2>La classe contient les etudiants</h2>
    {% empty %}
<h2 style="color:red;">la classe est vide.</h2>
{% endfor %}
<hr>
</body>

</html>